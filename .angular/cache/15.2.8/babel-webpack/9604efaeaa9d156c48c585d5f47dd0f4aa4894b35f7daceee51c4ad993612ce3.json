{"ast":null,"code":"import { FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../contato.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"ngx-toastr\";\nfunction EditContatoComponent_p_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 12)(1, \"sup\");\n    i0.ɵɵtext(2, \"*\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"Nome obrigat\\u00F3rio \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditContatoComponent_p_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 12)(1, \"sup\");\n    i0.ɵɵtext(2, \"*\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"Informe a idade \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditContatoComponent_p_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 12)(1, \"sup\");\n    i0.ɵɵtext(2, \"*\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"Informe telefone \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditContatoComponent_p_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 12)(1, \"sup\");\n    i0.ɵɵtext(2, \"*\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"Use apenas n\\u00FAmeros \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class EditContatoComponent {\n  constructor(contatoService, fb, location, activeRoute, router, toastr) {\n    this.contatoService = contatoService;\n    this.fb = fb;\n    this.location = location;\n    this.activeRoute = activeRoute;\n    this.router = router;\n    this.toastr = toastr;\n    this.contatoForm = this.createForm();\n  }\n  createForm() {\n    return this.fb.group({\n      nome: new FormControl('', Validators.required),\n      idade: new FormControl('', Validators.required),\n      telefone: new FormControl('', [Validators.required, Validators.pattern('^[0-9]+$')])\n    });\n  }\n  ngOnInit() {\n    const id = this.activeRoute.snapshot.paramMap.get('id');\n    if (id != null) {\n      this.contatoService.getContatoById(id).valueChanges().subscribe(data => {\n        this.contatoForm.setValue(data);\n      });\n    }\n  }\n  submitForm() {\n    this.contatoService.updateContato(this.contatoForm.value);\n    this.toastr.success(this.contatoForm.controls['nome'].value + \" atualizado.\");\n    this.router.navigate(['list-contato']);\n  }\n  goBack() {\n    this.location.back();\n  }\n  get nome() {\n    return this.contatoForm.get('nome');\n  }\n  get idade() {\n    return this.contatoForm.get('idade');\n  }\n  get telefone() {\n    return this.contatoForm.get('telefone');\n  }\n}\nEditContatoComponent.ɵfac = function EditContatoComponent_Factory(t) {\n  return new (t || EditContatoComponent)(i0.ɵɵdirectiveInject(i1.ContatoService), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.Location), i0.ɵɵdirectiveInject(i4.ActivatedRoute), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i5.ToastrService));\n};\nEditContatoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditContatoComponent,\n  selectors: [[\"app-edit-contato\"]],\n  decls: 28,\n  vars: 6,\n  consts: [[1, \"pt-3\", \"pb-2\", \"mb-3\", \"border-bottom\"], [1, \"h2\"], [\"novalidate\", \"\", 3, \"formGroup\", \"ngSubmit\"], [1, \"row\"], [1, \"col-lg-6\", \"col-md-8\", \"col-sm-12\"], [1, \"col-md-12\", \"mb-3\"], [\"type\", \"text\", \"id\", \"nome\", \"formControlName\", \"nome\", \"required\", \"\", 1, \"form-control\"], [\"class\", \"error\", 4, \"ngIf\"], [\"type\", \"number\", \"formControlName\", \"idade\", \"required\", \"\", 1, \"form-control\"], [\"type\", \"text\", \"formControlName\", \"telefone\", \"required\", \"\", 1, \"form-control\"], [1, \"form-group\", \"text-end\"], [\"type\", \"submit\", 1, \"btn\", \"btn-info\", \"mx-2\", 3, \"disabled\"], [1, \"error\"]],\n  template: function EditContatoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n      i0.ɵɵtext(2, \"Editar Contato\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(3, \"form\", 2);\n      i0.ɵɵlistener(\"ngSubmit\", function EditContatoComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.submitForm();\n      });\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4)(6, \"div\", 3)(7, \"div\", 5)(8, \"label\");\n      i0.ɵɵtext(9, \"Nome\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(10, \"input\", 6);\n      i0.ɵɵtemplate(11, EditContatoComponent_p_11_Template, 4, 0, \"p\", 7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"div\", 3)(13, \"div\", 5)(14, \"label\");\n      i0.ɵɵtext(15, \"Idade\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(16, \"input\", 8);\n      i0.ɵɵtemplate(17, EditContatoComponent_p_17_Template, 4, 0, \"p\", 7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(18, \"div\", 3)(19, \"div\", 5)(20, \"label\");\n      i0.ɵɵtext(21, \"Telefone:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(22, \"input\", 9);\n      i0.ɵɵtemplate(23, EditContatoComponent_p_23_Template, 4, 0, \"p\", 7);\n      i0.ɵɵtemplate(24, EditContatoComponent_p_24_Template, 4, 0, \"p\", 7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(25, \"div\", 10)(26, \"button\", 11);\n      i0.ɵɵtext(27, \" Editar Contato \");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.contatoForm);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngIf\", (ctx.nome == null ? null : ctx.nome.touched) && (ctx.nome == null ? null : ctx.nome.invalid));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", (ctx.idade == null ? null : ctx.idade.touched) && (ctx.idade == null ? null : ctx.idade.invalid));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", (ctx.telefone == null ? null : ctx.telefone.touched) && (ctx.telefone == null ? null : ctx.telefone.invalid));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.telefone == null ? null : ctx.telefone.errors == null ? null : ctx.telefone.errors[\"pattern\"]);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", !ctx.contatoForm.valid);\n    }\n  },\n  dependencies: [i3.NgIf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NumberValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.RequiredValidator, i2.FormGroupDirective, i2.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","Validators","i0","EditContatoComponent","constructor","contatoService","fb","location","activeRoute","router","toastr","contatoForm","createForm","group","nome","required","idade","telefone","pattern","ngOnInit","id","snapshot","paramMap","get","getContatoById","valueChanges","subscribe","data","setValue","submitForm","updateContato","value","success","controls","navigate","goBack","back","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\aluno\\Documents\\GitHub\\crud-angular-firebase\\src\\app\\contato\\edit-contato\\edit-contato.component.ts","C:\\Users\\aluno\\Documents\\GitHub\\crud-angular-firebase\\src\\app\\contato\\edit-contato\\edit-contato.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\n\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\n\r\nimport { ContatoService } from '../contato.service';\r\n\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\nimport { Location } from '@angular/common';\r\n\r\n\r\n\r\n@Component({\r\n\r\n  selector: 'app-edit-contato',\r\n\r\n  templateUrl: './edit-contato.component.html',\r\n\r\n  styleUrls: ['./edit-contato.component.css']\r\n\r\n})\r\n\r\nexport class EditContatoComponent implements OnInit{\r\n\r\n  contatoForm: FormGroup;\r\n\r\n\r\n\r\n  constructor(\r\n\r\n    private contatoService: ContatoService,\r\n\r\n    private fb: FormBuilder,\r\n\r\n    private location: Location,\r\n\r\n    private activeRoute: ActivatedRoute,\r\n\r\n    private router: Router,\r\n\r\n    private toastr: ToastrService\r\n\r\n  ){\r\n\r\n    this.contatoForm = this.createForm();\r\n\r\n  }\r\n\r\n\r\n\r\n  createForm(){\r\n\r\n    return this.fb.group({\r\n\r\n      nome: new FormControl('', Validators.required),\r\n\r\n      idade: new FormControl('', Validators.required),\r\n\r\n      telefone: new FormControl('', [Validators.required,  Validators.pattern('^[0-9]+$')])\r\n\r\n    });\r\n\r\n  }\r\n\r\n\r\n\r\n  ngOnInit(){\r\n\r\n    const id = this.activeRoute.snapshot.paramMap.get('id');\r\n\r\n    if (id != null) {\r\n\r\n      this.contatoService.getContatoById(id).valueChanges().subscribe(data => {\r\n\r\n        this.contatoForm.setValue(data as any);\r\n\r\n      });\r\n\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  submitForm(){\r\n\r\n    this.contatoService.updateContato(this.contatoForm.value);\r\n\r\n    this.toastr.success(\r\n\r\n      this.contatoForm.controls['nome'].value + \" atualizado.\"\r\n\r\n    );\r\n\r\n    this.router.navigate(['list-contato']);\r\n\r\n  }\r\n\r\n  goBack(){\r\n\r\n    this.location.back();\r\n\r\n  }\r\n\r\n\r\n\r\n  get nome(){\r\n\r\n    return this.contatoForm.get('nome');\r\n\r\n  }\r\n\r\n\r\n\r\n  get idade(){\r\n\r\n    return this.contatoForm.get('idade');\r\n\r\n  }\r\n\r\n\r\n\r\n  get telefone(){\r\n\r\n    return this.contatoForm.get('telefone');\r\n\r\n  }\r\n\r\n}\r\n\r\n ","<div class=\"pt-3 pb-2 mb-3 border-bottom\">\r\n\r\n  <h2 class=\"h2\">Editar Contato</h2>\r\n\r\n</div>\r\n\r\n\r\n\r\n<form [formGroup]=\"contatoForm\" (ngSubmit)=\"submitForm()\" novalidate>\r\n\r\n  <div class=\"row\">\r\n\r\n    <div class=\"col-lg-6 col-md-8 col-sm-12\">\r\n\r\n      <div class=\"row\">\r\n\r\n        <div class=\"col-md-12 mb-3\">\r\n\r\n          <label>Nome</label>\r\n\r\n          <input type=\"text\" id=\"nome\" class=\"form-control\" formControlName=\"nome\" required/>\r\n\r\n          <!-- errors-->\r\n\r\n          <p *ngIf=\"nome?.touched && nome?.invalid\" class=\"error\">\r\n\r\n            <sup>*</sup>Nome obrigatório\r\n\r\n          </p>\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n\r\n        <div class=\"col-md-12 mb-3\">\r\n\r\n          <label>Idade</label>\r\n\r\n          <input\r\n\r\n            type=\"number\"\r\n\r\n            formControlName=\"idade\"\r\n\r\n            class=\"form-control\"\r\n\r\n            required\r\n\r\n          />\r\n\r\n          <!-- errors-->\r\n\r\n          <p *ngIf=\"idade?.touched && idade?.invalid\" class=\"error\">\r\n\r\n            <sup>*</sup>Informe a idade\r\n\r\n          </p>\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n\r\n        <div class=\"col-md-12 mb-3\">\r\n\r\n          <label>Telefone:</label>\r\n\r\n          <input\r\n\r\n            type=\"text\"\r\n\r\n            formControlName=\"telefone\"\r\n\r\n            class=\"form-control\"\r\n\r\n            required\r\n\r\n          />\r\n\r\n          <!-- errors-->\r\n\r\n          <p *ngIf=\"telefone?.touched && telefone?.invalid\" class=\"error\">\r\n\r\n            <sup>*</sup>Informe telefone\r\n\r\n          </p>\r\n\r\n          <p *ngIf=\"telefone?.errors?.['pattern']\" class=\"error\">\r\n\r\n            <sup>*</sup>Use apenas números\r\n\r\n          </p>\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class=\"form-group text-end\">\r\n\r\n        <button type=\"submit\" class=\"btn btn-info mx-2\" [disabled]=\"!contatoForm.valid\">\r\n\r\n          Editar Contato\r\n\r\n        </button>\r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n\r\n</form>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}